<!DOCTYPE html>
<html>
<head>
    <title>Math Master 100 | MathHub Pro</title>
    <style>
        body { font-family: 'Poppins', sans-serif; text-align: center; background: #1a1a2e; color: white; margin: 0; overflow: hidden; }
        #game-container { max-width: 600px; margin: 5vh auto; padding: 20px; border-radius: 20px; background: #16213e; border: 3px solid #0f3460; }
        .stats { display: flex; justify-content: space-between; font-size: 1.2rem; margin-bottom: 20px; color: #4ecca3; }
        #question { font-size: 80px; font-weight: bold; margin: 40px 0; text-shadow: 0 0 20px #4ecca3; }
        input { background: #0f3460; border: none; border-bottom: 4px solid #4ecca3; color: white; font-size: 40px; width: 200px; text-align: center; outline: none; padding: 10px; }
        #progress-wrapper { width: 100%; height: 20px; background: #0f3460; border-radius: 10px; margin-top: 30px; overflow: hidden; }
        #progress-bar { height: 100%; width: 0%; background: #4ecca3; transition: 0.3s; }
        .level-badge { background: #e94560; padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; }
    </style>
</head>
<body>

<div id="game-container">
    <div class="stats">
        <span>LVL <b id="level">1</b>/100</span>
        <span class="level-badge" id="difficulty">EASY</span>
        <span>SCORE: <b id="score">0</b></span>
    </div>

    <div id="question">? + ?</div>
    <input type="number" id="answer" placeholder="Ans" autofocus autocomplete="off">

    <div id="progress-wrapper">
        <div id="progress-bar"></div>
    </div>
    <p style="color: #6c757d; margin-top: 10px;">Answer quickly to rank up!</p>
</div>

<script>
    let level = 1; let score = 0; let currentAns = 0;

    function generateTask() {
        let n1, n2, op;
        // Increase range as level grows
        let range = 5 + (level * 2); 
        
        // Decide Operators based on level
        let ops = ['+'];
        if (level > 5) ops.push('-');
        if (level > 15) ops.push('*');
        if (level > 30) ops.push('/');
        
        op = ops[Math.floor(Math.random() * ops.length)];

        if (op === '+') {
            n1 = Math.floor(Math.random() * range) + 1;
            n2 = Math.floor(Math.random() * range) + 1;
            currentAns = n1 + n2;
        } else if (op === '-') {
            n1 = Math.floor(Math.random() * range) + 10;
            n2 = Math.floor(Math.random() * n1); // Avoid negative
            currentAns = n1 - n2;
        } else if (op === '*') {
            n1 = Math.floor(Math.random() * (level > 50 ? 15 : 10)) + 2;
            n2 = Math.floor(Math.random() * (level > 70 ? 12 : 8)) + 2;
            currentAns = n1 * n2;
        } else if (op === '/') {
            n2 = Math.floor(Math.random() * 9) + 2;
            currentAns = Math.floor(Math.random() * 10) + 1;
            n1 = n2 * currentAns; // Ensures whole number
        }

        document.getElementById('question').innerText = `${n1} ${op} ${n2}`;
        updateDifficulty();
    }

    function updateDifficulty() {
        let label = "EASY";
        if (level > 20) label = "MEDIUM";
        if (level > 50) label = "HARD";
        if (level > 80) label = "GENIUS ðŸ§ ";
        document.getElementById('difficulty').innerText = label;
    }

    document.getElementById('answer').addEventListener('input', (e) => {
        if (parseInt(e.target.value) === currentAns) {
            score += 10;
            if (level < 100) level++;
            
            document.getElementById('score').innerText = score;
            document.getElementById('level').innerText = level;
            document.getElementById('progress-bar').style.width = level + "%";
            
            e.target.value = '';
            generateTask();
        }
    });

    window.onload = generateTask;
</script>
</body>
</html>
